import React from "react";
import { graphql } from "gatsby";
import { MDXRenderer } from "gatsby-plugin-mdx";
import { contextMDX } from "@jbolda/isolated-theme-ui-components";
import Chrome from "../../../../src/chrome";

export default ({ data, location }) => (
  <Chrome article={data.article} location={location}>
    <MDXRenderer scope={{ contextMDX }}>{data.article.body}</MDXRenderer>
  </Chrome>
);

export const pageQuery = graphql`
  query JBoldaGatsbyThemeArticleBySlugWithImage($slug: String!) {
    article: articles(slug: { eq: $slug }) {
      body
      keywords
      slug
      tags
      title
      updated
      written
      featuredImage {
        fluid(maxWidth: 1920) {
          ...GatsbyImageSharpFluid_tracedSVG
        }
      }
    }
  }
`;
